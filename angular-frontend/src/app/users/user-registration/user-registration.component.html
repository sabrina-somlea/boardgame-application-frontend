<p>user-registration works!</p>

<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha3/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-KK94CHFLLe+nY2dmCWGMq91rCGa5gtU4mk92HdvYe+M/SXH301p5ILy+dN9+nJOZ" crossorigin="anonymous">
<div class="container-fluid">
  <h2>Registration form</h2>
  <form [formGroup]="registrationForm">
    <div class="form-group">
      <label>First Name</label>
      <input  #firstNameInput [class.is-invalid]= "firstName?.invalid
                                && firstName?.touched" formControlName="firstName" ngModel pattern="[a-zA-Z- ]*" type="text" maxlength="101" class="form-control">
    <div *ngIf ="firstName?.invalid && firstName?.touched">
    <small *ngIf="firstName?.errors?.['required']" class ="text-danger"> First Name is required</small>
      <small *ngIf="firstName?.errors?.['minlength']" class ="text-danger"> First Name must be at least 2 characters</small>
      <small *ngIf="firstName?.errors?.['maxlength']" class ="text-danger"> Your First Name is too long </small>
      <small *ngIf="firstName?.errors?.['pattern']" class ="text-danger">  {{firstName?.errors?.['pattern'].value}} First name cannot contain numbers or special characters</small>
    </div>
    </div>
    <div class="form-group">
      <label>Last Name</label>
      <input #lastNameInput [class.is-invalid]= "lastName?.invalid
                                && lastName?.touched" formControlName="lastName"  ngModel pattern="[a-zA-Z- ]*" type="text" maxlength="101" class="form-control">
      <div *ngIf ="lastName?.invalid && lastName?.touched">
        <small *ngIf="lastName?.errors?.['required']" class ="text-danger"> Last Name is required</small>
        <small *ngIf="lastName?.errors?.['minlength']" class ="text-danger"> Last Name must be at least 2 characters</small>
        <small *ngIf="lastName?.errors?.['maxlength']" class ="text-danger"> Your Last Name is too long </small>
        <small *ngIf="lastName?.errors?.['pattern']" class ="text-danger">  {{lastName?.errors?.['pattern'].value}} Last name cannot contain numbers or special characters</small>
      </div>
    </div>
    <div class="form-group">
      <label>Birthday</label>
      <input #birthdayInput [class.is-invalid]= "registrationForm.get('birthday')?.invalid
                                && registrationForm.get('birthday')?.touched"formControlName="birthday" type="date" max="{{maxDate}}" min= "{{minDate}}"class="form-control" >
      <div *ngIf ="birthday?.invalid && birthday?.touched">
        <small *ngIf="birthday?.errors?.['required']" class ="text-danger"> Birthday is required</small>
        <small *ngIf="birthday?.errors?.['invalidDate']" class ="text-danger">  {{birthday?.errors?.['invalidDate']}} </small>
    </div>
    </div>

    <div class="form-group">
      <label>Gender</label>
      <input #genderInput type ="radio" name="gender" formControlName="gender" value="1"> Male
      <input #genderInput type="radio" name="gender" formControlName="gender" value="0"> Female
      <div *ngIf ="gender?.invalid">
        <small *ngIf="gender?.errors?.['required']" class ="text-danger"> Gender is required</small>
        </div>
    </div>
    <div class="form-group">
      <label>Email</label>
<!--      <input formControlName="email" type="email" class="form-control">-->
      <input #emailInput [class.is-invalid]= "email?.invalid
                                && email?.touched" formControlName="email"  type="email"  class="form-control">
      <div *ngIf ="email?.invalid && email?.touched">
        <small *ngIf="email?.errors?.['required']" class ="text-danger"> Email is required</small>
        <small *ngIf="email?.errors?.['email']" class ="text-danger"> This is not a valid email address</small>

    </div>
    </div>
    <div class="form-group">
      <label>Username</label>
      <input #usernameInput [class.is-invalid]= "username?.invalid
                                && username?.touched" formControlName="username"  type="text"   class="form-control">
      <div *ngIf ="username?.invalid && username?.touched">
        <small *ngIf="username?.errors?.['required']" class ="text-danger"> Username is required</small>
        <small *ngIf="username?.errors?.['pattern']" class ="text-danger"> {{username?.errors?.['pattern'].value}} Username cannot contain special characters</small>
<!--        <small *ngIf="username?.errors?.['usernameTaken']"class ="text-danger"> {{username?.errors?.['usernameTaken']}}</small>-->
        <small *ngIf="username?.errors?.['usernameExists']"class ="text-danger"> exista deja</small>
      </div>
    </div>
    <div class="form-group">
      <label>Password</label>
      <input #passwordInput [class.is-invalid]= "password?.invalid
                                && password?.touched" formControlName="password" type="password" class="form-control">
      <div *ngIf ="password?.invalid && password?.touched">
        <small *ngIf="password?.errors?.['required']" class ="text-danger"> Password is required</small>
    </div>
    </div>
    <div class="form-group">
      <label>Confirm Password</label>
<!--      <input [class.is-invalid]= "confirmPassword?.invalid-->
<!--                                && confirmPassword?.touched" formControlName="confirmPassword"  type="password"  class="form-control">-->
      <input [class.is-invalid]="confirmPassword?.touched && registrationForm.errors?.['mismatch']"  formControlName="confirmPassword"  type="password"  class="form-control">
      <small class ="text-danger" *ngIf="registrationForm.errors?.['mismatch']"> Passwords do not match </small>
    </div>
    <button class="btn btn-primary"  [disabled]="!registrationForm.valid" (click)=" onSave(firstNameInput.value, lastNameInput.value, birthdayInput.value, genderInput.value, emailInput.value, usernameInput.value, passwordInput.value)"> Submit</button>
  </form>
  {{registrationForm.value | json}}
</div>
